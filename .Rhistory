# set working directory
setwd("/home/sthu/Dropbox/hsf/github/courses/")
# set working directory
setwd("/home/sthu/Dropbox/hsf/github/courses/")
# clear the environment
rm(list = ls())
# Let us do the following:
# 1. check if a package is installed
# 2. if not installed the package should be installed and loaded
# 3. if installed the package should be loaded
# I like to do it with a function that is part of pacman package:
if (!require("pacman")) {install.packages("pacman")}
pacman::p_load(haven, tidyverse, vtable, gtsummary, pastecs, Hmisc,
sjlabelled, tis, ggpubr, sjPlot)
r
# import data
data <- read_dta("dta/convergence.dta")
# inspect data
names(data)
str(data)
data
head(data)
tail(data)
summary(data)
view(data)
# library(gtsummary)
tbl_summary(data)
# library(Hmisc)
describe(data)
data <- mutate(data, x_1 = africa + asia + weurope)
View(data)
data %>%
filter(x_1==0) %>%
select(africa, asia, weurope, country) %>%
view()
ggplot(data, aes(x = gdppc60, y = growth, label=country)) +
geom_point() +
geom_text(hjust=0, vjust=0)
p1 <- ggplot(data, aes(x = gdppc60, y = growth, label=country )) +
geom_point() +
stat_smooth(formula=y~x, method="lm", se=FALSE, colour="red", linetype=1) +
# geom_text(hjust=0, vjust=0) +
ggtitle("World")
p2 <- data %>%
filter(weurope==1) %>%
ggplot( aes(x = gdppc60, y = growth, label=country )) +
geom_point() +
stat_smooth(formula=y~x, method="lm", se=FALSE, colour="red", linetype=1) +
#geom_text(hjust=0, vjust=0) +
ggtitle("Western Europe")
p3 <- data %>%
filter(asia==1) %>%
ggplot( aes(x = gdppc60, y = growth, label=country )) +
geom_point() +
stat_smooth(formula=y~x, method="lm", se=FALSE, colour="red", linetype=1) +
# geom_text(hjust=0, vjust=0) +
ggtitle("Asia")
p4 <- data %>%
filter(africa==1) %>%
ggplot( aes(x = gdppc60, y = growth, label=country )) +
geom_point() +
stat_smooth(formula=y~x, method="lm", se=FALSE, colour="red", linetype=1) +
#  geom_text( hjust=0, vjust=0) +
ggtitle("Africa")
ggarrange(p1, p2, p3, p4 ,
labels = c("A", "B", "C", "D"),
ncol = 2, nrow = 2)
# Regression analysis
m1  <-  lm(growth ~ gdppc60, data = data)
m2  <-  lm(growth ~ gdppc60, data = subset(data, weurope==1))
m3  <-  lm(growth ~ gdppc60, data = subset(data, asia==1))
m4  <-  lm(growth ~ gdppc60, data = subset(data, africa==1))
tab_model(m1, m2, m3, m4,
p.style = "stars",
p.threshold = c(0.2, 0.1, 0.05),
show.ci = FALSE,
show.se = FALSE,
show.aic = TRUE,
dv.labels = c("World", "W.Europe", "Asia", "Africa"))
library("tidyverse")
